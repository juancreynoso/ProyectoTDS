<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Análisis Semantico</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <h1>Análisis Semantico</h1>
  </header>
  
  <main>
    <h2>Descripción</h2>


    <p>Para poder llevar a cabo el analisis semantico, el cual en este caso se basa en hacer un chequeo de declaraciones y de tipos,
      es necesario hacer uso de dos estructuras, las cuales son el <b>Arbol de sintaxis abstracto (ast)</b> y la <b>tabla de simbolos(st)</b>.</p>
      <br>

    <h2>Generacion del AST</h2>

    <p>El <b>ast</b> se genera a partir de la gramática definida en el archivo <i>sintax.y</i> de bison. Se define la estructura del ast y las funcionalidades a partir de los
    archivos <i>ast.h</i> y <i>ast.c</i>.
    Para la comunicación entre el analizador léxico (Flex) y el analizador sintáctico (Bison), se utiliza la variable global <b><i>yylval</i></b>. 
    Esta variable permite transferir el valor semántico asociado a cada token. Por ejemplo, cuando el analizador léxico reconoce una cadena que 
    representa un número entero, retorna el token correspondiente y, mediante yylval, también pasa el valor numérico. De esta manera,
    el analizador sintáctico puede utilizar esa información en las acciones semánticas para construir los nodos del AST.
    <p>En el analizador lexico:</p>
    <pre>
    ...

    {digit}+{   
              printf("NUM \n"); 
              yylval.ival = atoi(yytext);
              return NUM;
            }  
    
    ...
    </pre>

    <p>En el analizador sintactico:</p>
    <pre>
    ...

    expr: ID { $$ = create_id_node($1, NONE, NODE_ID_USE); }
        | NUM { $$ = create_int_node($1); }
    
    ...
    </pre>
    <p>
      Es importante destacar que para que esto funcione correctamente ademas se debe definir un tipo de dato <i>union</i> que, 
      permite pasar distintos tipos de valores del analizador lexico al analizador sintacto (a traves de yylval), asi como 
      tambien permite determinar a que tipos de datos estan asociados los simbolos terminales y no terminales de la gramatica el
      cual nos favorece para armar el ast. Esto nos permite hacer uso de la notacion <i>$$ y $1, $2, ... $n</i> para poder armar el arbol. 
    </p>
    
    <h1>Generacion de la tabla de simbolos</h1>
    <h1>Chequeo de tipos</h1>
  </main>
  

  <footer>
    <a href="index.html">← Volver al índice</a>
  </footer>
</body>
</html> 